<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - Hamster Verse</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .admin-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .admin-tab {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .admin-tab.active {
            background: var(--accent-gradient);
            color: white;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: inherit;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--accent-gradient);
            color: white;
        }
        
        .btn-danger {
            background: #ff4444;
            color: white;
        }
        
        .items-list {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .item-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .item-actions {
            display: flex;
            gap: 10px;
        }
        
        .game-preview {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .game-preview img {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <div class="header-titles">
                    <h1 class="app-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
                    <span class="app-subtitle">Hamster Verse</span>
                </div>
                <button class="guide-button" onclick="window.location.href='index.html'">
                    ‚Üê –ù–∞–∑–∞–¥ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
                </button>
            </div>
        </header>

        <main class="main-content">
            <div class="admin-container">
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="games">üéÆ –ò–≥—Ä—ã</button>
                    <button class="admin-tab" data-tab="price">üí∞ –ö—É—Ä—Å HMSTR</button>
                    <button class="admin-tab" data-tab="news">üì∞ –ù–æ–≤–æ—Å—Ç–∏</button>
                </div>

                <!-- Games Section -->
                <div id="games-section" class="admin-section active">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏</h2>
                    <form id="game-form">
                        <input type="hidden" id="game-id">
                        <div class="form-group">
                            <label for="game-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã</label>
                            <input type="text" id="game-name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="game-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="game-description" class="form-control" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="game-image">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                            <input type="url" id="game-image" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="game-url">–°—Å—ã–ª–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞</label>
                            <input type="url" id="game-url" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="game-players">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 12.8K)</label>
                            <input type="text" id="game-players" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="game-beta">
                                –ë–µ—Ç–∞-–≤–µ—Ä—Å–∏—è
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É</button>
                    </form>

                    <div class="items-list" id="games-list">
                        <!-- Games will be loaded here -->
                    </div>
                </div>

                <!-- Price Section -->
                <div id="price-section" class="admin-section">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–º HMSTR</h2>
                    <form id="price-form">
                        <div class="form-group">
                            <label for="hmstr-price">–¶–µ–Ω–∞ HMSTR (USD)</label>
                            <input type="number" id="hmstr-price" class="form-control" step="0.000001" required>
                        </div>
                        <div class="form-group">
                            <label for="hmstr-change">–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 24—á (%)</label>
                            <input type="number" id="hmstr-change" class="form-control" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="hmstr-marketcap">–ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è (–≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö)</label>
                            <input type="number" id="hmstr-marketcap" class="form-control" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="hmstr-volume">–û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ 24—á (–≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö)</label>
                            <input type="number" id="hmstr-volume" class="form-control" step="0.1" required>
                        </div>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                    </form>
                </div>

                <!-- News Section -->
                <div id="news-section" class="admin-section">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏</h2>
                    <form id="news-form">
                        <input type="hidden" id="news-id">
                        <div class="form-group">
                            <label for="news-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                            <input type="text" id="news-title" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="news-content">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
                            <textarea id="news-content" class="form-control" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="news-image">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                            <input type="url" id="news-image" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="news-date">–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</label>
                            <input type="datetime-local" id="news-date" class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</button>
                    </form>

                    <div class="items-list" id="news-list">
                        <!-- News will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        if (localStorage.getItem('is_admin') !== 'true') {
            alert('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω');
            window.location.href = 'index.html';
        }

        // –¢–∞–±—ã
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∞–±—ã
                document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é
                document.querySelectorAll('.admin-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(`${targetTab}-section`).classList.add('active');
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        loadGames();
        loadPriceData();
        loadNews();

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏
        document.getElementById('game-form').addEventListener('submit', function(e) {
            e.preventDefault();
            saveGame();
        });

        function loadGames() {
            const games = JSON.parse(localStorage.getItem('admin_games')) || [];
            const container = document.getElementById('games-list');
            
            if (games.length === 0) {
                container.innerHTML = '<p>–ò–≥—Ä—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>';
                return;
            }
            
            container.innerHTML = games.map(game => `
                <div class="item-card">
                    <div class="game-preview">
                        <img src="${game.image}" alt="${game.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzY2N2VlYSIvPgo8L3N2Zz4K'">
                        <div>
                            <strong>${game.name}</strong>
                            <div style="font-size: 12px; color: var(--text-secondary);">${game.players} –∏–≥—Ä–æ–∫–æ–≤</div>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="btn" onclick="editGame(${game.id})">‚úèÔ∏è</button>
                        <button class="btn btn-danger" onclick="deleteGame(${game.id})">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        function saveGame() {
            const games = JSON.parse(localStorage.getItem('admin_games')) || [];
            const gameId = document.getElementById('game-id').value;
            const gameData = {
                id: gameId ? parseInt(gameId) : Date.now(),
                name: document.getElementById('game-name').value,
                description: document.getElementById('game-description').value,
                image: document.getElementById('game-image').value,
                url: document.getElementById('game-url').value,
                players: document.getElementById('game-players').value,
                beta: document.getElementById('game-beta').checked
            };

            if (gameId) {
                // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                const index = games.findIndex(g => g.id === parseInt(gameId));
                if (index !== -1) {
                    games[index] = gameData;
                }
            } else {
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
                games.push(gameData);
            }

            localStorage.setItem('admin_games', JSON.stringify(games));
            loadGames();
            resetGameForm();
            alert('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
        }

        function editGame(id) {
            const games = JSON.parse(localStorage.getItem('admin_games')) || [];
            const game = games.find(g => g.id === id);
            
            if (game) {
                document.getElementById('game-id').value = game.id;
                document.getElementById('game-name').value = game.name;
                document.getElementById('game-description').value = game.description;
                document.getElementById('game-image').value = game.image;
                document.getElementById('game-url').value = game.url;
                document.getElementById('game-players').value = game.players;
                document.getElementById('game-beta').checked = game.beta || false;
                
                document.getElementById('game-form').scrollIntoView();
            }
        }

        function deleteGame(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∏–≥—Ä—É?')) {
                const games = JSON.parse(localStorage.getItem('admin_games')) || [];
                const filteredGames = games.filter(g => g.id !== id);
                localStorage.setItem('admin_games', JSON.stringify(filteredGames));
                loadGames();
            }
        }

        function resetGameForm() {
            document.getElementById('game-form').reset();
            document.getElementById('game-id').value = '';
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–º
        document.getElementById('price-form').addEventListener('submit', function(e) {
            e.preventDefault();
            savePriceData();
        });

        function loadPriceData() {
            const priceData = JSON.parse(localStorage.getItem('admin_price_data'));
            
            if (priceData) {
                document.getElementById('hmstr-price').value = priceData.price;
                document.getElementById('hmstr-change').value = priceData.change;
                document.getElementById('hmstr-marketcap').value = priceData.marketCap;
                document.getElementById('hmstr-volume').value = priceData.volume;
            }
        }

        function savePriceData() {
            const priceData = {
                price: parseFloat(document.getElementById('hmstr-price').value),
                change: parseFloat(document.getElementById('hmstr-change').value),
                marketCap: document.getElementById('hmstr-marketcap').value,
                volume: document.getElementById('hmstr-volume').value
            };

            localStorage.setItem('admin_price_data', JSON.stringify(priceData));
            alert('–î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏
        document.getElementById('news-form').addEventListener('submit', function(e) {
            e.preventDefault();
            saveNews();
        });

        function loadNews() {
            const news = JSON.parse(localStorage.getItem('admin_news')) || [];
            const container = document.getElementById('news-list');
            
            if (news.length === 0) {
                container.innerHTML = '<p>–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>';
                return;
            }
            
            container.innerHTML = news.map(item => `
                <div class="item-card">
                    <div>
                        <strong>${item.title}</strong>
                        <div style="font-size: 12px; color: var(--text-secondary);">
                            ${new Date(item.date).toLocaleDateString('ru-RU')}
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="btn" onclick="editNews('${item.id}')">‚úèÔ∏è</button>
                        <button class="btn btn-danger" onclick="deleteNews('${item.id}')">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        function saveNews() {
            const news = JSON.parse(localStorage.getItem('admin_news')) || [];
            const newsId = document.getElementById('news-id').value;
            const newsData = {
                id: newsId || Date.now().toString(),
                title: document.getElementById('news-title').value,
                content: document.getElementById('news-content').value,
                image: document.getElementById('news-image').value,
                date: document.getElementById('news-date').value
            };

            if (newsId) {
                // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                const index = news.findIndex(n => n.id === newsId);
                if (index !== -1) {
                    news[index] = newsData;
                }
            } else {
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
                news.push(newsData);
            }

            localStorage.setItem('admin_news', JSON.stringify(news));
            loadNews();
            resetNewsForm();
            alert('–ù–æ–≤–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
        }

        function editNews(id) {
            const news = JSON.parse(localStorage.getItem('admin_news')) || [];
            const newsItem = news.find(n => n.id === id);
            
            if (newsItem) {
                document.getElementById('news-id').value = newsItem.id;
                document.getElementById('news-title').value = newsItem.title;
                document.getElementById('news-content').value = newsItem.content;
                document.getElementById('news-image').value = newsItem.image || '';
                document.getElementById('news-date').value = newsItem.date;
                
                document.getElementById('news-form').scrollIntoView();
            }
        }

        function deleteNews(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –Ω–æ–≤–æ—Å—Ç—å?')) {
                const news = JSON.parse(localStorage.getItem('admin_news')) || [];
                const filteredNews = news.filter(n => n.id !== id);
                localStorage.setItem('admin_news', JSON.stringify(filteredNews));
                loadNews();
            }
        }

        function resetNewsForm() {
            document.getElementById('news-form').reset();
            document.getElementById('news-id').value = '';
            document.getElementById('news-date').value = new Date().toISOString().slice(0, 16);
        }

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.getElementById('news-date').value = new Date().toISOString().slice(0, 16);
    </script>
</body>
</html>
